{"version":3,"sources":["sw.js"],"names":["VERSION","self","addEventListener","event","waitUntil","precache","request","method","respondWith","cachedResponse","updateCache","cache","caches","open","addAll","response","match","fetch","put"],"mappings":"AAAA;AAEA;AACA,MAAMA,OAAO,GAAG,IAAhB;AAEAC,IAAI,CAACC,gBAAL,CAAsB,SAAtB,EAAgCC,KAAK,IAAE;AACrCA,EAAAA,KAAK,CAACC,SAAN,CAAgBC,QAAQ,EAAxB;AACD,CAFD;AAIAJ,IAAI,CAACC,gBAAL,CAAsB,OAAtB,EAA+BC,KAAK,IAAE;AACpC,QAAMG,OAAO,GAAGH,KAAK,CAACG,OAAtB;;AAEA,MAAGA,OAAO,CAACC,MAAR,KAAmB,KAAtB,EAA4B;AAC1B;AACD,GALmC,CAOpC;;;AACAJ,EAAAA,KAAK,CAACK,WAAN,CAAkBC,cAAc,CAACH,OAAD,CAAhC,EARoC,CASpC;;AACAH,EAAAA,KAAK,CAACC,SAAN,CAAgBM,WAAW,CAACJ,OAAD,CAA3B;AACD,CAXD;;AAaA,eAAeD,QAAf,GAAyB;AACvB,QAAMM,KAAK,GAAG,MAAMC,MAAM,CAACC,IAAP,CAAYb,OAAZ,CAApB;AACA,SAAOW,KAAK,CAACG,MAAN,CAAa,CAClB,GADkB,EAElB,aAFkB,EAGlB,kBAHkB,EAIlB,wBAJkB,EAKlB,6BALkB,EAMlB,8BANkB,EAOlB,mBAPkB,EAQlB,0BARkB,CAAb,CAAP;AAUD;;AAED,eAAeL,cAAf,CAA8BH,OAA9B,EAAsC;AACpC,QAAMK,KAAK,GAAG,MAAMC,MAAM,CAACC,IAAP,CAAYb,OAAZ,CAApB;AACA,QAAMe,QAAQ,GAAG,MAAMJ,KAAK,CAACK,KAAN,CAAYV,OAAZ,CAAvB;AACA,SAAOS,QAAQ,IAAIE,KAAK,CAACX,OAAD,CAAxB;AACD;;AAED,eAAeI,WAAf,CAA2BJ,OAA3B,EAAmC;AACjC,QAAMK,KAAK,GAAG,MAAMC,MAAM,CAACC,IAAP,CAAYb,OAAZ,CAApB;AACA,QAAMe,QAAQ,GAAG,MAAME,KAAK,CAACX,OAAD,CAA5B;AACA,SAAOK,KAAK,CAACO,GAAN,CAAUZ,OAAV,EAAkBS,QAAlB,CAAP;AAED","file":"sw.js","sourceRoot":"..","sourcesContent":["//service worker\r\n\r\n//instancia de cache\r\nconst VERSION = 'v1'\r\n\r\nself.addEventListener('install',event=>{\r\n  event.waitUntil(precache())\r\n})\r\n\r\nself.addEventListener('fetch', event=>{\r\n  const request = event.request\r\n\r\n  if(request.method !== 'GET'){\r\n    return\r\n  }\r\n\r\n  //buscar en cache\r\n  event.respondWith(cachedResponse(request))\r\n  //actualizar\r\n  event.waitUntil(updateCache(request))\r\n})\r\n\r\nasync function precache(){\r\n  const cache = await caches.open(VERSION)\r\n  return cache.addAll([\r\n    '/',\r\n    '/index.html',\r\n    '/assets/index.js',\r\n    '/assets/MediaPlayer.js',\r\n    '/assets/plugins/AutoPlay.js',\r\n    '/assets/plugins/AutoPause.js',\r\n    '/assets/index.css',\r\n    '/assets/BigBuckBunny.mp4',\r\n  ])\r\n}\r\n\r\nasync function cachedResponse(request){\r\n  const cache = await caches.open(VERSION)\r\n  const response = await cache.match(request)\r\n  return response || fetch(request)\r\n}\r\n\r\nasync function updateCache(request){\r\n  const cache = await caches.open(VERSION)\r\n  const response = await fetch(request)\r\n  return cache.put(request,response)\r\n\r\n}"]}